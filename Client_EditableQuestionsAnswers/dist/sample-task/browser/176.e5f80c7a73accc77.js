"use strict";(self.webpackChunksample_task=self.webpackChunksample_task||[]).push([[176],{5176:(k,f,r)=>{r.r(f),r.d(f,{UserPostModule:()=>J});var u=r(6362),w=r(2816),A=r(655),e=r(3184),x=r(5441),P=r(4267),h=r(167),C=r(9087),c=r(587);function T(o,l){if(1&o&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("value",t.questionType),e.xp6(1),e.Oqu(t.questionType)}}let b=(()=>{class o{constructor(t,n,i,s){this.questionAnswerService=t,this.loaderService=n,this.cd=i,this.highlightService=s,this.closePopup=new e.vpe,this.questionAnswerSaved=new e.vpe,this.editorContent="",this.interviewQuestion={question:"",answer:"",rank:""},this.editMode=!0,this.popupEvent=new e.vpe,this.tempDiv="div",this.config1={editable:!0,spellcheck:!0,minHeight:"5rem",maxHeight:"auto",placeholder:"Enter Article Details here...",translate:"no",sanitize:!1,outline:!0,defaultParagraphSeparator:"p",customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"text-center",class:"text-center"},{name:"text-right",class:"text-right"},{name:"img-center",class:"img-center"},{name:"img-right",class:"img-right"},{name:"titleText",class:"titleText",tag:"h1"}],toolbarHiddenButtons:[]}}ngOnInit(){this.editMode=!1,this.getQuestionTypes()}getQuestionTypes(){this.loaderService.display(!0),this.questionAnswerService.getQuestionTypes().subscribe(t=>{this.questionTypes=t,this.loaderService.display(!1)})}closeAddEditPopup(){this.popupEvent.emit("closeQuestionAnswerPopup")}addQuestionMarkIfNotPresent(t){const n=t.trim(),i=n.charAt(n.length-1);return"?"!==i&&"."!==i&&":"!==i?n+" ?":n}convertAnswerHtmlIntoString(t){const n=document.createElement(this.tempDiv);n.innerHTML=t,n.querySelectorAll("h1, h2, h3, h4, h5, h6, h7").forEach(a=>{const p=a.style.textAlign;"center"===p?a.outerHTML=`<div class="text-center">${a.outerHTML}</div>`:"right"===p?a.outerHTML=`<div class="text-right">${a.outerHTML}</div>`:"left"===p&&(a.outerHTML=`<div class="text-left">${a.outerHTML}</div>`)}),n.innerHTML=n.innerHTML.replace(/&lt;scss&gt;/g,'<div class="code-snippet"><pre><code class="language-scss">').replace(/&lt;\/scss&gt;/g,"</code></pre></div>").replace(/&lt;html&gt;/g,'<div class="code-snippet"><pre><code class="language-html">').replace(/&lt;\/html&gt;/g,"</code></pre></div>").replace(/&lt;typescript&gt;/g,'<div class="code-snippet"><pre><code class="language-typescript">').replace(/&lt;\/typescript&gt;/g,"</code></pre></div>");let s=n.innerHTML;s=s.replace(/<p>/g,"\n").replace(/<\/p>/g,""),this.tempSattu=s;let d=new DOMParser;this.tempSattu=d.parseFromString(this.tempSattu,"text/html");let g,m=this.tempSattu.querySelector("font");return m&&(g=m.attributes.color.value,s=s.replace(/<font[^>]*>/g,'<span style="color:'+g+'">').replace(/<\/font>/g,"</span>")),s}saveInterviewQuestionAnswer(){console.log("Interview Question before save:",this.interviewQuestion),this.interviewQuestion.answer=this.convertAnswerHtmlIntoString(this.interviewQuestion.answer),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<img style="display: block; margin: 0 auto;">/g,'<div class="img-center">').replace(/<\/img>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<img style="float: right;">/g,'<div class="img-right">').replace(/<\/img>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<img style="float: left;">/g,'<div class="img-left">').replace(/<\/img>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<p style="text-align: center;">/g,'<div class="text-center">').replace(/<\/p>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<p style="text-align: right;">/g,'<div class="text-right">').replace(/<\/p>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<p style="text-align: left;">/g,'<div class="text-left">').replace(/<\/p>/g,"</div>"),this.editMode?this.questionAnswerService.updateUserPost(this.interviewQuestion):this.questionAnswerService.addUserPost(this.interviewQuestion),this.closeAddEditPopup(),console.log("Interview Question after save:",this.interviewQuestion)}updateAnswer(){this.interviewQuestion.answer=""}onChange(t){console.log("changed"),this.interviewQuestion.answer=t,this.checkForImage()}onBlur(t){console.log("blur "+t),this.interviewQuestion.answer=this.editor.textArea.nativeElement.innerHTML}checkForImage(){this.editor.textArea.nativeElement.querySelectorAll("img").forEach(i=>{i.classList.add("your-dynamic-class1"),this.makeResizable(i)})}makeResizable(t){t.addEventListener("mousedown",n=>{n.preventDefault();const i=t.clientWidth,s=t.clientHeight,d=n.clientX,m=n.clientY,g=p=>{const E=s+p.clientY-m;t.style.width=i+p.clientX-d+"px",t.style.height=`${E}px`},a=()=>{window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",g),window.addEventListener("mouseup",p=>{a(),this.interviewQuestion.answer=this.editor.textArea.nativeElement.innerHTML})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.t),e.Y36(x.D),e.Y36(e.sBO),e.Y36(C.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-blog-popup"]],viewQuery:function(t,n){if(1&t&&e.Gf(h.s6,5),2&t){let i;e.iGM(i=e.CRH())&&(n.editor=i.first)}},inputs:{editedItem:"editedItem"},outputs:{closePopup:"closePopup",questionAnswerSaved:"questionAnswerSaved",popupEvent:"popupEvent"},decls:31,vars:5,consts:[[1,"modal"],[1,"modal-content"],[1,"form-group","row"],["for","question",1,"col-3","col-form-label"],[1,"col-9"],["id","question","name","question","placeholder","Enter Article Title","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","answer",1,"col-3","col-form-label"],["id","editor1",3,"ngModel","config","ngModelChange","blur"],["editor",""],["for","type",1,"col-3","col-form-label"],["id","type","name","type",1,"custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"offset-3","col-md-3","col-4"],["name","submit","type","submit",1,"btn","btn-primary","btn-full-width",3,"click"],[1,"col-md-3","col-4"],["name","submit","type","submit",1,"btn","btn-danger","btn-full-width",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"fieldset")(4,"legend"),e._uU(5,"Add Article:"),e.qZA(),e.TgZ(6,"div",2)(7,"label",3),e._uU(8,"Title"),e.qZA(),e.TgZ(9,"div",4)(10,"textarea",5),e.NdJ("ngModelChange",function(s){return n.interviewQuestion.question=s}),e.qZA()()(),e.TgZ(11,"div",2)(12,"label",6),e._uU(13,"Details"),e.qZA(),e.TgZ(14,"div",4)(15,"div")(16,"angular-editor",7,8),e.NdJ("ngModelChange",function(s){return n.interviewQuestion.answer=s})("ngModelChange",function(s){return n.onChange(s)})("blur",function(s){return n.onBlur(s)}),e.qZA()()()(),e.TgZ(18,"div",2)(19,"label",9),e._uU(20,"Type"),e.qZA(),e.TgZ(21,"div",4)(22,"select",10),e.NdJ("ngModelChange",function(s){return n.interviewQuestion.questionType=s}),e.YNc(23,T,2,2,"option",11),e.qZA()()(),e.TgZ(24,"div",2)(25,"div",12)(26,"button",13),e.NdJ("click",function(){return n.saveInterviewQuestionAnswer()}),e._uU(27,"Submit"),e.qZA()(),e.TgZ(28,"div",14)(29,"button",15),e.NdJ("click",function(){return n.closeAddEditPopup()}),e._uU(30,"Cancel"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",n.interviewQuestion.question),e.xp6(6),e.Q6J("ngModel",n.interviewQuestion.answer)("config",n.config1),e.xp6(6),e.Q6J("ngModel",n.interviewQuestion.questionType),e.xp6(1),e.Q6J("ngForOf",n.questionTypes))},directives:[c.Fj,c.JJ,c.On,h.s6,c.EJ,u.sg,c.YN,c.Kr],styles:[""]}),o})();var _=r(7622),v=r(7043);function y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"app-user-blog-popup",8),e.NdJ("closePopup",function(i){return e.CHM(t),e.oxw().closePopup(i)}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("editedItem",t.editedItem)}}const Q=function(o){return{open:o}},M=function(){return{open:!0}};function U(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",3)(6,"div",13)(7,"header"),e._UZ(8,"h1",14),e.qZA()(),e.TgZ(9,"div",15)(10,"div",16)(11,"fa-icon",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().editArticle(s)}),e.qZA()(),e.TgZ(12,"button",18),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().toggleShowHideAnswer(s)}),e._uU(13),e.qZA()()()(),e.TgZ(14,"div",19)(15,"div",19),e._UZ(16,"div",20),e.qZA()()()()()()}if(2&o){const t=l.$implicit,n=e.oxw();e.xp6(8),e.Q6J("innerHtml",n.addQuestionMarkIfNotPresent(t.question),e.oJD),e.xp6(3),e.Q6J("icon",n.faEdit),e.xp6(2),e.Oqu(t.buttonText?t.buttonText:"Show"),e.xp6(1),e.Q6J("ngClass",e.VKq(6,Q,1==t.showAnswer)),e.xp6(1),e.Q6J("ngClass",e.DdM(8,M)),e.xp6(1),e.Q6J("innerHtml",t.answer,e.oJD)}}const q=[{path:"",component:(()=>{class o{constructor(t,n){this.loaderService=t,this.questionAnswerService=n,this.showPopup=!1,this.userBlogItems=[],this.editMode=!1,this.faEdit=A.Xcf,this.paginationConfig={id:"userArticlesPagination",itemsPerPage:10,currentPage:1,totalItems:0}}ngOnInit(){this.fetchUserArticles(),this.paginationConfig.totalItems=this.userBlogItems.length}toggleShowHideAnswer(t){t.showAnswer?(t.showAnswer=!1,t.buttonText="Show"):(t.showAnswer=!0,t.buttonText="Hide")}fetchUserArticles(){this.loaderService.display(!0),this.questionAnswerService.getUserPostList().subscribe(t=>{this.userBlogItems=t,this.loaderService.display(!1)})}editArticle(t){this.editedItem=t,this.showPopup=!0}openPopup(){this.showPopup=!0,this.editedItem={},this.paginationConfig.currentPage=1}closePopup(t){this.showPopup=!1}addQuestionMarkIfNotPresent(t){return this.questionAnswerService.addQuestionMarkIfNotPresentCondition(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.D),e.Y36(P.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-post"]],decls:10,vars:6,consts:[[1,"offset-md-1","col-md-8","col-12","AddArticle"],[1,"btn","add-questions-btn","hand-cursor",3,"click"],[3,"editedItem","closePopup",4,"ngIf"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"offset-md-1","col-md-8","col-12","pagination-container","d-flex","justify-content-center"],[3,"id","pageChange"],[3,"editedItem","closePopup"],[1,"offset-md-1","col-md-8","col-12","main-questions-container"],[1,"panel-container","question-answer-detailcontainer"],[1,"panel-item"],["role","img","aria-label","frontend interview questions",1,"panel-header"],[1,"col-xl-10","col-md-9"],[1,"question-text",3,"innerHtml"],[1,"col-xl-2","col-md-3","action-btns","text-right"],[1,"col-md-7"],[1,"hand-cursor","edit-icon",3,"icon","click"],[1,"col-md-5","showHideAnswer","hand-cursor","btn-show-hide",3,"click"],[1,"panel-body",3,"ngClass"],[1,"panel-body-content",3,"innerHtml"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.openPopup()}),e._uU(2,"+ Add Article"),e.qZA(),e.YNc(3,y,1,1,"app-user-blog-popup",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e.YNc(6,U,17,9,"div",5),e.ALo(7,"paginate"),e.qZA()(),e.TgZ(8,"div",6)(9,"pagination-controls",7),e.NdJ("pageChange",function(s){return n.paginationConfig.currentPage=s}),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.showPopup),e.xp6(3),e.Q6J("ngForOf",e.xi3(7,3,n.userBlogItems,n.paginationConfig)),e.xp6(3),e.Q6J("id",n.paginationConfig.id))},directives:[u.O5,b,u.sg,_.BN,u.mk,v.LS],pipes:[v._s],styles:[".add-questions-btn[_ngcontent-%COMP%]{margin-bottom:15px;background-color:#fff;color:#000;border:solid 1px gainsboro;box-shadow:2px 2px 2px #dcdcdc;margin-right:10px;width:25%}.btn[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.AddArticle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.showHideAnswer[_ngcontent-%COMP%]{border:solid 1px gainsboro;color:gray;border-radius:5px;background-color:#fff;box-shadow:1px 1px 3px 2px #dcdcdc;float:right;outline:1px gainsboro;height:28px}.question-text[_ngcontent-%COMP%]{font-size:1em!important;display:inline}.action-btns[_ngcontent-%COMP%]{display:flex;flex-direction:row}.edit-icon[_ngcontent-%COMP%]{padding:0 49px 0 0!important}"]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[w.Bz.forChild(q)],w.Bz]}),o})();var S=r(158),H=r(8784);let J=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.ez,Z,_.uH,c.u5,S.q,H.JF,h.UM,v.JX]]}),o})()}}]);
//# sourceMappingURL=176.e5f80c7a73accc77.js.map
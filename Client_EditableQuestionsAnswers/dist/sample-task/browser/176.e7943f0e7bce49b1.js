"use strict";(self.webpackChunksample_task=self.webpackChunksample_task||[]).push([[176],{5176:(E,h,l)=>{l.r(h),l.d(h,{UserPostModule:()=>Z});var c=l(6362),w=l(2816),e=l(3184),m=l(167),f=l(4267),T=l(5441),P=l(9087),p=l(587);function Q(o,r){if(1&o&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.questionType),e.xp6(1),e.Oqu(t.questionType)}}let A=(()=>{class o{constructor(t,n,s,i){this.questionAnswerService=t,this.loaderService=n,this.cd=s,this.highlightService=i,this.closePopup=new e.vpe,this.questionAnswerSaved=new e.vpe,this.editorContent="",this.interviewQuestion={question:"",answer:"",rank:""},this.editMode=!0,this.popupEvent=new e.vpe,this.tempDiv="div",this.config1={editable:!0,spellcheck:!0,minHeight:"5rem",maxHeight:"auto",placeholder:"Enter Article Details here...",translate:"no",sanitize:!1,outline:!0,defaultParagraphSeparator:"p",customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"text-center",class:"text-center"},{name:"text-right",class:"text-right"},{name:"img-center",class:"img-center"},{name:"img-right",class:"img-right"},{name:"titleText",class:"titleText",tag:"h1"}],toolbarHiddenButtons:[]}}ngOnInit(){this.editMode=!1,this.getQuestionTypes()}getQuestionTypes(){this.loaderService.display(!0),this.questionAnswerService.getQuestionTypes().subscribe(t=>{this.questionTypes=t,this.loaderService.display(!1)})}closeAddEditPopup(){this.popupEvent.emit("closeQuestionAnswerPopup")}addQuestionMarkIfNotPresent(t){const n=t.trim(),s=n.charAt(n.length-1);return"?"!==s&&"."!==s&&":"!==s?n+" ?":n}convertAnswerHtmlIntoString(t){const n=document.createElement(this.tempDiv);n.innerHTML=t,n.querySelectorAll("h1, h2, h3, h4, h5, h6, h7").forEach(a=>{const u=a.style.textAlign;"center"===u?a.outerHTML=`<div class="text-center">${a.outerHTML}</div>`:"right"===u?a.outerHTML=`<div class="text-right">${a.outerHTML}</div>`:"left"===u&&(a.outerHTML=`<div class="text-left">${a.outerHTML}</div>`)}),n.innerHTML=n.innerHTML.replace(/&lt;scss&gt;/g,'<div class="code-snippet"><pre><code class="language-scss">').replace(/&lt;\/scss&gt;/g,"</code></pre></div>").replace(/&lt;html&gt;/g,'<div class="code-snippet"><pre><code class="language-html">').replace(/&lt;\/html&gt;/g,"</code></pre></div>").replace(/&lt;typescript&gt;/g,'<div class="code-snippet"><pre><code class="language-typescript">').replace(/&lt;\/typescript&gt;/g,"</code></pre></div>");let i=n.innerHTML;i=i.replace(/<p>/g,"\n").replace(/<\/p>/g,""),this.tempSattu=i;let v=new DOMParser;this.tempSattu=v.parseFromString(this.tempSattu,"text/html");let d,g=this.tempSattu.querySelector("font");return g&&(d=g.attributes.color.value,i=i.replace(/<font[^>]*>/g,'<span style="color:'+d+'">').replace(/<\/font>/g,"</span>")),i}saveInterviewQuestionAnswer(){console.log("Interview Question before save:",this.interviewQuestion),this.interviewQuestion.answer=this.convertAnswerHtmlIntoString(this.interviewQuestion.answer),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<img style="display: block; margin: 0 auto;">/g,'<div class="img-center">').replace(/<\/img>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<img style="float: right;">/g,'<div class="img-right">').replace(/<\/img>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<img style="float: left;">/g,'<div class="img-left">').replace(/<\/img>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<p style="text-align: center;">/g,'<div class="text-center">').replace(/<\/p>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<p style="text-align: right;">/g,'<div class="text-right">').replace(/<\/p>/g,"</div>"),this.interviewQuestion.answer=this.interviewQuestion.answer.replace(/<p style="text-align: left;">/g,'<div class="text-left">').replace(/<\/p>/g,"</div>"),this.editMode?this.questionAnswerService.updateUserPost(this.interviewQuestion):this.questionAnswerService.addUserPost(this.interviewQuestion),this.closeAddEditPopup(),console.log("Interview Question after save:",this.interviewQuestion)}updateAnswer(){this.interviewQuestion.answer=""}onChange(t){console.log("changed"),this.interviewQuestion.answer=t,this.checkForImage()}onBlur(t){console.log("blur "+t),this.interviewQuestion.answer=this.editor.textArea.nativeElement.innerHTML}checkForImage(){this.editor.textArea.nativeElement.querySelectorAll("img").forEach(s=>{s.classList.add("your-dynamic-class1"),this.makeResizable(s)})}makeResizable(t){t.addEventListener("mousedown",n=>{n.preventDefault();const s=t.clientWidth,i=t.clientHeight,v=n.clientX,g=n.clientY,d=u=>{const J=i+u.clientY-g;t.style.width=s+u.clientX-v+"px",t.style.height=`${J}px`},a=()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",d),window.addEventListener("mouseup",u=>{a(),this.interviewQuestion.answer=this.editor.textArea.nativeElement.innerHTML})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.t),e.Y36(T.D),e.Y36(e.sBO),e.Y36(P.u))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-blog-popup"]],viewQuery:function(t,n){if(1&t&&e.Gf(m.s6,5),2&t){let s;e.iGM(s=e.CRH())&&(n.editor=s.first)}},inputs:{editedItem:"editedItem"},outputs:{closePopup:"closePopup",questionAnswerSaved:"questionAnswerSaved",popupEvent:"popupEvent"},decls:31,vars:5,consts:[[1,"modal"],[1,"modal-content"],[1,"form-group","row"],["for","question",1,"col-3","col-form-label"],[1,"col-9"],["id","question","name","question","placeholder","Enter Article Title","type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","answer",1,"col-3","col-form-label"],["id","editor1",3,"ngModel","config","ngModelChange","blur"],["editor",""],["for","type",1,"col-3","col-form-label"],["id","type","name","type",1,"custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"offset-3","col-md-3","col-4"],["name","submit","type","submit",1,"btn","btn-primary","btn-full-width",3,"click"],[1,"col-md-3","col-4"],["name","submit","type","submit",1,"btn","btn-danger","btn-full-width",3,"click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"fieldset")(4,"legend"),e._uU(5,"Add Article:"),e.qZA(),e.TgZ(6,"div",2)(7,"label",3),e._uU(8,"Title"),e.qZA(),e.TgZ(9,"div",4)(10,"textarea",5),e.NdJ("ngModelChange",function(i){return n.interviewQuestion.question=i}),e.qZA()()(),e.TgZ(11,"div",2)(12,"label",6),e._uU(13,"Details"),e.qZA(),e.TgZ(14,"div",4)(15,"div")(16,"angular-editor",7,8),e.NdJ("ngModelChange",function(i){return n.interviewQuestion.answer=i})("ngModelChange",function(i){return n.onChange(i)})("blur",function(i){return n.onBlur(i)}),e.qZA()()()(),e.TgZ(18,"div",2)(19,"label",9),e._uU(20,"Type"),e.qZA(),e.TgZ(21,"div",4)(22,"select",10),e.NdJ("ngModelChange",function(i){return n.interviewQuestion.questionType=i}),e.YNc(23,Q,2,2,"option",11),e.qZA()()(),e.TgZ(24,"div",2)(25,"div",12)(26,"button",13),e.NdJ("click",function(){return n.saveInterviewQuestionAnswer()}),e._uU(27,"Submit"),e.qZA()(),e.TgZ(28,"div",14)(29,"button",15),e.NdJ("click",function(){return n.closeAddEditPopup()}),e._uU(30,"Cancel"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",n.interviewQuestion.question),e.xp6(6),e.Q6J("ngModel",n.interviewQuestion.answer)("config",n.config1),e.xp6(6),e.Q6J("ngModel",n.interviewQuestion.questionType),e.xp6(1),e.Q6J("ngForOf",n.questionTypes))},directives:[p.Fj,p.JJ,p.On,m.s6,p.EJ,c.sg,p.YN,p.Kr],styles:[""]}),o})();function y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-user-blog-popup",6),e.NdJ("closePopup",function(){return e.CHM(t),e.oxw().closePopup()}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("editedItem",t.editedItem)}}const C=function(){return{open:!0}};function M(o,r){if(1&o&&(e.TgZ(0,"div")(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",3)(6,"div",11)(7,"header"),e._UZ(8,"h1",12),e.qZA()()()(),e.TgZ(9,"div",13),e._UZ(10,"div",14),e.qZA()()()()()),2&o){const t=r.$implicit;e.xp6(8),e.Q6J("innerHtml",t.question,e.oJD),e.xp6(1),e.Q6J("ngClass",e.DdM(3,C)),e.xp6(1),e.Q6J("innerHtml",t.answer,e.oJD)}}const _=[{path:"",component:(()=>{class o{constructor(){this.showPopup=!1,this.questionAnswerItems=[],this.userBlogItems=[]}ngOnInit(){}openPopup(){this.showPopup=!0}closePopup(){this.showPopup=!1}closeModal(t){this.showPopup=!1}addQuestionAnswer(t){this.userBlogItems.push(t)}openPopupToAddQuestionAnswer(){this.addQuestionAnswer({})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-post"]],decls:7,vars:2,consts:[[1,"container"],[3,"click"],[3,"editedItem","closePopup",4,"ngIf"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[3,"editedItem","closePopup"],[1,"offset-md-1","col-md-8","col-12","main-questions-container"],[1,"panel-container","question-answer-detailcontainer"],[1,"panel-item"],["role","img","aria-label","frontend interview questions",1,"panel-header"],[1,"col-xl-10","col-md-9"],[1,"question-text",3,"innerHtml"],[1,"panel-body",3,"ngClass"],[1,"panel-body-content",3,"innerHtml"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.openPopup()}),e._uU(2,"Add Article"),e.qZA(),e.YNc(3,y,1,1,"app-user-blog-popup",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e.YNc(6,M,11,4,"div",5),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.showPopup),e.xp6(3),e.Q6J("ngForOf",n.userBlogItems))},directives:[c.O5,A,c.sg,c.mk],styles:[""]}),o})()}];let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[w.Bz.forChild(_)],w.Bz]}),o})();var q=l(7622),b=l(158),x=l(8784);let Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,U,q.uH,p.u5,b.q,x.JF,m.UM]]}),o})()}}]);
//# sourceMappingURL=176.e7943f0e7bce49b1.js.map